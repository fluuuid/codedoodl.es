!function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){function o(){l=!1,s.length?u=s.concat(u):d=-1,u.length&&i()}function i(){if(!l){var e=setTimeout(o);l=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,l=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function a(){}var s,c=t.exports={},u=[],l=!1,d=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new r(e,t)),1!==u.length||l||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(e,t,n){function o(e,t,n,o){return n=window.getComputedStyle,o=n?n(e):e.currentStyle,o?o[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]:void 0}t.exports=o},{}],3:[function(e,t,n){function o(e,t,n){var o=u[t];if("undefined"==typeof o&&(o=r(t)),o){if(void 0===n)return e.style[o];"number"==typeof n&&(n+=l[o]||""),e.style[o]=n}}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&o(e,n,t[n])}function r(e){var t=c(e),n=s(t);return u[t]=u[e]=u[n]=n,n}function a(){2===arguments.length?i(arguments[0],arguments[1]):o(arguments[0],arguments[1],arguments[2])}var s=e(4),c=e(5),u={"float":"cssFloat"},l={};["top","right","bottom","left","width","height","fontSize","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","padding","margin","perspective"].forEach(function(e){l[e]="px"}),t.exports=a,t.exports.set=a,t.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,n){return t[n]=o(e,n||""),t},{}):o(e,t||"")}},{4:4,5:5}],4:[function(e,t,n){var o=null;t.exports=function(e){var t=["Moz","Khtml","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.slice(1);if(o||(o=document.createElement("div")),e in o.style)return e;for(var i=t.length;i--;)if(t[i]+n in o.style)return t[i]+n;return!1}},{}],5:[function(e,t,n){function o(e){return i(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var i=e(6);t.exports=o},{6:6}],6:[function(e,t,n){function o(e){return i(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""})}var i=e(7);t.exports=o},{7:7}],7:[function(e,t,n){function o(e){return a.test(e)?e.toLowerCase():(c.test(e)&&(e=i(e)),s.test(e)&&(e=r(e)),e.toLowerCase())}function i(e){return e.replace(u,function(e,t){return t?" "+t:""})}function r(e){return e.replace(l,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}t.exports=o;var a=/\s/,s=/[a-z][A-Z]/,c=/[\W_]/,u=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},{}],8:[function(e,t,n){(function(e){function n(){this._listeners=[]}function o(e){e.sort(function(e,t){return e=e.p,t=t.p,e>t?1:e>t?-1:0})}function i(e,t,n,i){if(!e)throw u;n=n||0;for(var r,a,s,c=this._listeners,d=c.length;d--;)if(r=c[d],r.f===e&&r.c===t)return!1;"function"==typeof n&&(a=n,n=i,s=4),c.unshift({f:e,c:t,p:n,r:a||e,a:l.call(arguments,s||3),j:0}),o(c)}function r(t,n,o,r){if(!t)throw u;var a=this,s=function(){return a.remove.call(a,t,n),t.apply(n,l.call(arguments,0))};r=l.call(arguments,0),1===r.length&&r.push(e),r.splice(2,0,s),i.apply(a,r)}function a(e,t){if(!e)return this._listeners.length=0,!0;for(var n,o=this._listeners,i=o.length;i--;)if(n=o[i],n.f===e&&(!t||n.c===t))return n.j=1,o.splice(i,1),!0;return!1}function s(e){e=l.call(arguments,0);for(var t,n,o=this._listeners,i=o.length;i--;)if(t=o[i],t&&!t.j&&(t.j=1,t.r.apply(t.c,t.a.concat(e))===!1)){n=t;break}for(o=this._listeners,i=o.length;i--;)o[i].j=0;return n}var c=n.prototype;c.add=i,c.addOnce=r,c.remove=a,c.dispatch=s;var u="Callback function is missing!",l=Array.prototype.slice;"undefined"!=typeof t&&(t.exports=n)})()},{}],9:[function(e,t,n){t.exports=e(10),e(16),e(15),e(17),e(13),e(18),e(12),e(14)},{10:10,12:12,13:13,14:14,15:15,16:16,17:17,18:18}],10:[function(e,t,n){function o(){this.isLoading=!1,this.totalWeight=0,this.loadedWeight=0,this.itemUrls={},this.itemList=[],this.loadingSignal=new w}function i(e,t){var n,o,i,r,a,s=p(e,t);for(n=0,i=s.length;i>n;n++)for(a=s[n],o=0,r=a.items.length;r>o;o++)this.add(a.items[o],{type:a.type});return s}function r(e,t){var n=E[e];return n||(n=d(e,t&&t.type?t.type:f(e).type,t)),t&&t.onLoad&&n.onLoaded.addOnce(t.onLoad),this.itemUrls[e]||(this.itemUrls[e]=n,this.itemList.push(n),this.totalWeight+=n.weight),n}function a(e,t){var n=E[e];return n||(n=d(e,t&&t.type?t.type:f(e).type,t)),t&&t.onLoad&&n.onLoaded.addOnce(t.onLoad),b[e]?n.dispatch():n.isStartLoaded||n.load(),n}function s(e){e&&this.loadingSignal.add(e),this.isLoading=!0;var t=this.itemList.length;if(t)for(var n,o=this.itemList.splice(0,this.itemList.length),i=0;t>i;i++)n=o[i],n.onLoaded.addOnce(l,this,-1024,n,o),n.hasLoading&&n.loadingSignal.add(c,this,-1024,n,o,y),b[n.url]?n.dispatch(l):n.isStartLoaded||n.load();else l.call(this,y,this.itemList)}function c(e,t,n,o,i){(!e||e.isLoaded||1!==o)&&(i===y&&(this.loadedWeight=u(t),i=this.loadedWeight/this.totalWeight),n=n||this.loadingSignal,n.dispatch(i,e))}function u(e){for(var t=0,n=0,o=e.length;o>n;n++)t+=e[n].loadedWeight;return t}function l(e,t){this.loadedWeight=u(t);var n=this.loadingSignal;this.loadedWeight===this.totalWeight?(this.isLoading=!1,this.loadedWeight=0,this.totalWeight=0,this.loadingSignal=new w,this._onLoading(e,t,n,1,1)):this._onLoading(e,t,n,1,this.loadedWeight/this.totalWeight)}function d(e,t,n){return new T[t](e,n)}function h(e){T[e.type]||(S.push(e),T[e.type]=e)}function p(e,t){var n,o,i=e.length,r=[];if(i&&"string"!=typeof e)for(n=0;i>n;n++)o=f(e[n],t),o&&(r=r.concat(o));else o=f(e,t),o&&(r=r.concat(o));return r}function f(e,t){var n,o,i,r,a;if(t)r=T[t],i=r.retrieve(e);else for(n=0,o=S.length;o>n;n++){if(r=S[n],a=r.type,"string"==typeof e){if(m(e,r)){i=[e];break}}else if(i=r.retrieve(e),i&&i.length&&"string"==typeof i[0]&&m(i[0],r))break;i=y,a=y}return i?{type:t||a,items:i}:void 0}function m(e,t){if(e){for(var n=v(e),o=t.extensions,i=o.length;i--;)if(n===o[i])return!0;return!1}}function v(e){return e.split(".").pop().split(/\#|\?/)[0]}function g(){return new o}function x(){var e=[],t=[];for(var n in E)e.push(n),b[n]||t.push(E[n]);console.log({added:e,notLoaded:t})}var y,w=e(8),_=o.prototype;_.addChunk=i,_.add=r,_.load=a,_.start=s,_._onLoading=c;var L=t.exports=g();L.version="0.1.14",L.register=h,L.retrieveAll=p,L.retrieve=f,L.testExtensions=m,L.create=g,L.load=a,L.check=x;var E=L.addedItems={},b=L.loadedItems={},S=L.ITEM_CLASS_LIST=[],T=L.ITEM_CLASSES={}},{8:8}],11:[function(e,t,n){function o(e,t){if(e){this.url=e,this.loadedWeight=0,this.weight=1;for(var n in t)this[n]=t[n];this.type||(this.type=this.constructor.type),this.hasLoading&&(this.loadingSignal=new c,this.loadingSignal.add(a,this),this.onLoading&&this.loadingSignal.add(this.onLoading));var o=this;this.boundOnLoad=function(){o._onLoad()},this.onLoaded=new c,u.addedItems[e]=this}}function i(){this.isStartLoaded=!0}function r(){this.isLoaded=!0,this.loadedWeight=this.weight,u.loadedItems[this.url]=this,this.onLoaded.dispatch(this.content)}function a(e){this.loadedWeight=this.weight*e}function s(){this.hasLoading&&this.loadingSignal.remove(),this.onLoaded.dispatch(this.content)}var c=e(8),u=e(10);t.exports=o;var l=o.prototype;l.load=i,l._onLoad=r,l._onLoading=a,l.dispatch=s,o.extensions=[],o.retrieve=function(){return!1}},{10:10,8:8}],12:[function(e,t,n){function o(e,t){e&&(s.constructor.call(this,e,t),!this.loadFunc&&console&&console[console.error||console.log]("require loadFunc in the config object."))}function i(){var e=this;this.loadFunc(this.url,function(t){e.content=t,s._onLoad.call(e)},this.loadingSignal)}var r=e(11),a=e(10);t.exports=o,o.type="any",o.extensions=[],a.register(o),o.retrieve=function(){return!1};var s=r.prototype,c=o.prototype=new r;c.constructor=o,c.load=i},{10:10,11:11}],13:[function(e,t,n){function o(e,t){if(e){this.loadThrough=t&&t.loadThrough!==a?t.loadThrough:!0,u.constructor.apply(this,arguments);try{this.content=new Audio}catch(n){this.content=document.createElement("audio")}}}function i(){u.load.apply(this,arguments);var e=this,t=e.content;t.src=this.url,this.loadThrough?t.addEventListener("canplaythrough",this.boundOnLoad,!1):t.addEventListener("canplay",this.boundOnLoad,!1),t.load()}function r(){this.content.removeEventListener("canplaythrough",this.boundOnLoad,!1),this.content.removeEventListener("canplay",this.boundOnLoad,!1),this.isLoaded||u._onLoad.call(this)}var a,s=e(11),c=e(10);t.exports=o,o.type="audio",o.extensions=["mp3","ogg"],c.register(o),o.retrieve=function(e){return!1};var u=s.prototype,l=o.prototype=new s;l.constructor=o,l.load=i,l._onLoad=r},{10:10,11:11}],14:[function(e,t,n){function o(e,t){e&&(l.constructor.apply(this,arguments),this.content=new Image)}function i(){l.load.apply(this,arguments);var e=this.content;e.src=this.url,e.width?this._onLoad():e.onload=this.boundOnLoad}function r(){delete this.content.onload,this.width=this.content.width,this.height=this.content.height,l._onLoad.call(this)}function a(e){return 0!==e.indexOf("data:")}var s=e(11),c=e(2),u=e(10);t.exports=o;var l=s.prototype,d=o.prototype=new s;d.constructor=o,d.load=i,d._onLoad=r,o.retrieve=function(e){if(e.nodeType&&e.style){var t=[];"img"==e.nodeName.toLowerCase()&&e.src.indexOf(";")<0&&t.push(e.src),c(e,"background-image").replace(/s?url\(\s*?[\'\"]?([^;]*?)[\'\"]?\s*?\)/g,function(e,n){t.push(n)});for(var n=t.length;n--;)a(t[n])||t.splice(n,1);return t.length?t:!1}return"string"==typeof e?[e]:!1},o.type="image",o.extensions=["jpg","gif","png"],u.register(o)},{10:10,11:11,2:2}],15:[function(require,module,exports){function JSONItem(e){e&&_super.constructor.apply(this,arguments)}function _onLoad(){this.content&&(this.content=window.JSON&&window.JSON.parse?JSON.parse(this.content.toString()):eval(this.content.toString())),_super._onLoad.call(this)}var TextItem=require(17),quickLoader=require(10);module.exports=JSONItem,JSONItem.type="json",JSONItem.extensions=["json"],quickLoader.register(JSONItem),JSONItem.retrieve=function(){return!1};var _super=TextItem.prototype,_p=JSONItem.prototype=new TextItem;_p.constructor=JSONItem,_p._onLoad=_onLoad},{10:10,17:17}],16:[function(e,t,n){function o(){return"_jsonp"+(new Date).getTime()+~~(1e8*Math.random())}function i(e){e&&c.constructor.apply(this,arguments)}function r(e){c.load.apply(this,arguments);var t=this,n=this.url.lastIndexOf("=")+1,i=this.url.substr(0,n),r=this.url.substr(n);0===r.length?(r=o(),this.jsonpCallback=e):this.jsonpCallback=this.jsonpCallback||window[r],window[r]=function(e){a.parentNode&&a.parentNode.removeChild(a),t.content=e,t._onLoad()};var a=document.createElement("script");a.type="text/javascript",a.src=i+r,document.getElementsByTagName("head")[0].appendChild(a)}var a=e(11),s=e(10);t.exports=i,i.type="jsonp",i.extensions=[],s.register(i),i.retrieve=function(e){return"string"==typeof e&&e.indexOf("=")>-1?[e]:!1};var c=a.prototype,u=i.prototype=new a;u.constructor=i,u.load=r},{10:10,11:11}],17:[function(e,t,n){function o(e){e&&h.constructor.apply(this,arguments)}function i(){h.load.apply(this,arguments);var e,t=this;e=d?this.xmlhttp=new XMLHttpRequest:this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"),this.hasLoading&&(e.onprogress=function(e){t._onXmlHttpProgress(e)}),e.onreadystatechange=function(){t._onXmlHttpChange()},e.open("GET",this.url,!0),d?e.send(null):e.send()}function r(e){this.loadingSignal.dispatch(e.loaded/e.total)}function a(){4==this.xmlhttp.readyState&&200==this.xmlhttp.status&&(this.content=this.xmlhttp.responseText,this._onLoad())}function s(){this.content&&(this.xmlhttp=c),h._onLoad.call(this)}var c,u=e(11),l=e(10),d=!!window.XMLHttpRequest;t.exports=o,o.type="text",o.extensions=["html","txt","svg"],l.register(o),o.retrieve=function(){return!1};var h=u.prototype,p=o.prototype=new u;p.constructor=o,p.load=i,p._onXmlHttpChange=a,p._onXmlHttpProgress=r,p._onLoad=s},{10:10,11:11}],18:[function(e,t,n){function o(e,t){if(e){this.loadThrough=t&&t.loadThrough!==a?t.loadThrough:!0,u.constructor.apply(this,arguments);try{this.content=new Video}catch(n){this.content=document.createElement("video")}}}function i(){u.load.apply(this,arguments);var e=this.content;e.preload="auto",e.src=this.url,this.loadThrough?e.addEventListener("canplaythrough",this.boundOnLoad,!1):e.addEventListener("canplay",this.boundOnLoad,!1),e.load()}function r(){this.content.removeEventListener("canplaythrough",this.boundOnLoad),this.content.removeEventListener("canplay",this.boundOnLoad),this.isLoaded||u._onLoad.call(this)}var a,s=e(11),c=e(10);t.exports=o,o.type="video",o.extensions=["mp4","webm","ogv"],c.register(o),o.retrieve=function(e){return!1};var u=s.prototype,l=o.prototype=new s;l.constructor=o,l.load=i,l._onLoad=r},{10:10,11:11}],19:[function(e,t,n){for(var o=e(20),i="undefined"==typeof window?{}:window,r=["moz","webkit"],a="AnimationFrame",s=i["request"+a],c=i["cancel"+a]||i["cancelRequest"+a],u=0;u<r.length&&!s;u++)s=i[r[u]+"Request"+a],c=i[r[u]+"Cancel"+a]||i[r[u]+"CancelRequest"+a];if(!s||!c){var l=0,d=0,h=[],p=1e3/60;s=function(e){if(0===h.length){var t=o(),n=Math.max(0,p-(t-l));l=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}t.exports=function(e){return s.call(i,e)},t.exports.cancel=function(){c.apply(i,arguments)}},{20:20}],20:[function(e,t,n){(function(e){(function(){var n,o,i;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},o=e.hrtime,n=function(){var e;return e=o(),1e9*e[0]+e[1]},i=n()):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,e(1))},{1:1}],21:[function(e,t,n){t.exports=window.THREE},{}],22:[function(e,t,n){function o(e){x=e;var t=x.getContext();return t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?t.getExtension("OES_texture_float")?(w=new E.Scene,_=new E.Camera,_.position.z=1,d=new E.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new E.Vector2(T,T)},texture:{type:"t",value:null}},vertexShader:b("#define GLSLIFY 1\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}\n"),fragmentShader:b("#define GLSLIFY 1\nuniform vec2 resolution;\nuniform sampler2D texture;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec3 color = texture2D( texture, uv ).xyz;\n    gl_FragColor = vec4( color, 1.0 );\n}\n")}),h=new E.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new E.Vector2(T,T)},mouse3d:{type:"v3",value:new E.Vector3},texturePosition:{type:"t",value:null},textureVelocity:{type:"t",value:null},constraintRatio:{type:"f",value:L.constraintRatio},time:{type:"f",value:0}},vertexShader:b("#define GLSLIFY 1\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}\n"),fragmentShader:b("#define GLSLIFY 1\nuniform vec2 resolution;\nuniform float constraintRatio;\nuniform vec3 mouse3d;\n\nuniform sampler2D textureVelocity;\nuniform sampler2D texturePosition;\n\nconst float INTERSECTION_PRECISION = 1.0;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_2_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_2_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_2_1(vec4 x) {\n     return mod289_2_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_2_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_2_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_2_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_2_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_2_5;\n  vec3 i1 = min( g_2_5.xyz, l.zxy );\n  vec3 i2 = max( g_2_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_2_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_2_0(i);\n  vec4 p = permute_2_1( permute_2_1( permute_2_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_2_4.wyz - D_2_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_2_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_2_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_2_6.xy,h.z);\n  vec3 p3 = vec3(a1_2_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_2_2(vec4(dot(p0_2_7,p0_2_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_2_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_2_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvec3 snoiseVec3_1_8( vec3 x ){\n\n  float s  = snoise_2_3(vec3( x ));\n  float s1 = snoise_2_3(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));\n  float s2 = snoise_2_3(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));\n  vec3 c = vec3( s , s1 , s2 );\n  return c;\n\n}\n\n\nvec3 curlNoise_1_9( vec3 p ){\n\n  const float e = .1;\n  vec3 dx = vec3( e   , 0.0 , 0.0 );\n  vec3 dy = vec3( 0.0 , e   , 0.0 );\n  vec3 dz = vec3( 0.0 , 0.0 , e   );\n\n  vec3 p_x0 = snoiseVec3_1_8( p - dx );\n  vec3 p_x1 = snoiseVec3_1_8( p + dx );\n  vec3 p_y0 = snoiseVec3_1_8( p - dy );\n  vec3 p_y1 = snoiseVec3_1_8( p + dy );\n  vec3 p_z0 = snoiseVec3_1_8( p - dz );\n  vec3 p_z1 = snoiseVec3_1_8( p + dz );\n\n  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;\n  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;\n  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;\n\n  const float divisor = 1.0 / ( 2.0 * e );\n  return normalize( vec3( x , y , z ) * divisor );\n\n}\n\n\n\nhighp float random_3_10(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n\n\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n\n    vec4 velocityInfo = texture2D( textureVelocity, uv );\n    vec3 velocity = velocityInfo.xyz;\n\n    vec4 positionInfo = texture2D( texturePosition, uv );\n    vec3 position = positionInfo.xyz;\n\n    vec3 constraintPosition = texture2D( texturePosition, vec2(velocityInfo.w / resolution.x, uv.y) ).xyz;\n\n    vec3 constraintVector = constraintPosition - position;\n    float constraintDistance = length(constraintVector);\n\n    vec3 mousePos = mouse3d - position;\n\n    velocity *= 0.8;\n    velocity += (1.0 - smoothstep(0.0, 800.0, length(mousePos))) * normalize(mousePos) * 0.5;\n    velocity += curlNoise_1_9(position * 0.1) * 0.75;\n    velocity += constraintVector * (1.0 - smoothstep(0.0, 400.0, constraintDistance)) * constraintRatio;\n    velocity += (-position) * smoothstep(195.0, 270.0, length(position)) * .03;\n\n    gl_FragColor = vec4(velocity, velocityInfo.w );\n\n}\n"),blending:E.NoBlending,transparent:!1,depthWrite:!1,depthTest:!1}),p=new E.ShaderMaterial({uniforms:{resolution:{type:"v2",value:new E.Vector2(T,T)},texturePosition:{type:"t",value:null},textureVelocity:{type:"t",value:null},time:{type:"f",value:0}},vertexShader:b("#define GLSLIFY 1\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}\n"),fragmentShader:b("#define GLSLIFY 1\nuniform vec2 resolution;\n\nuniform sampler2D textureVelocity;\nuniform sampler2D texturePosition;\nuniform float time;\n\nconst float INTERSECTION_PRECISION = 1.0;\n\nhighp float random_1_0(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n\n\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n\n    vec3 velocity = texture2D( textureVelocity, uv ).xyz;\n\n    vec4 positionInfo = texture2D( texturePosition, uv );\n    vec3 position = positionInfo.xyz;\n    float brightness = positionInfo.w;\n\n    position += velocity;\n\n    float onEdgeRatio = smoothstep(190.0, 200.0, length(position));\n\n    gl_FragColor = vec4(position, onEdgeRatio);\n\n}\n"),blending:E.NoBlending,transparent:!1,depthWrite:!1,depthTest:!1}),y=new E.Mesh(new E.PlaneBufferGeometry(2,2),d),w.add(y),f=new E.WebGLRenderTarget(T,T,{wrapS:E.RepeatWrapping,wrapT:E.RepeatWrapping,minFilter:E.NearestFilter,magFilter:E.NearestFilter,format:E.RGBAFormat,type:E.FloatType,depthBuffer:!1,stencilBuffer:!1}),m=f.clone(),a(s(),f),a(f,m),v=new E.WebGLRenderTarget(T,T,{wrapS:E.RepeatWrapping,wrapT:E.RepeatWrapping,minFilter:E.NearestFilter,magFilter:E.NearestFilter,format:E.RGBAFormat,type:E.FloatType,depthBuffer:!1,stencilBuffer:!1}),g=v.clone(),a(c(),v),void a(v,g)):void alert("No OES_texture_float support for float textures!"):void alert("No support for vertex shader textures!")}function i(e){var t=f;f=m,m=t,y.material=h,h.uniforms.time.value=S,h.uniforms.textureVelocity.value=m,h.uniforms.texturePosition.value=v,x.render(w,_,f)}function r(e){var t=v;v=g,g=t,y.material=p,p.uniforms.time.value=S,p.uniforms.textureVelocity.value=f,p.uniforms.texturePosition.value=g,x.render(w,_,v)}function a(e,t){y.material=d,d.uniforms.texture.value=e,x.render(w,_,t)}function s(){for(var e=new Float32Array(4*P),t=0,n=e.length;n>t;t+=4)e[t+0]=0,e[t+1]=0,e[t+2]=0,e[t+3]=(~~(t/4)%T+1)%T;var o=new E.DataTexture(e,T,T,E.RGBAFormat,E.FloatType);return o.minFilter=E.NearestFilter,o.magFilter=E.NearestFilter,o.needsUpdate=!0,o.generateMipmaps=!1,o.flipY=!1,o}function c(){for(var e=new Float32Array(4*P),t=0,n=e.length;n>t;t+=4)e[t+0]=1*(Math.random()-.5),e[t+1]=1*(Math.random()-.5),e[t+2]=1*(Math.random()-.5);var o=new E.DataTexture(e,T,T,E.RGBAFormat,E.FloatType);return o.minFilter=E.NearestFilter,o.magFilter=E.NearestFilter,o.needsUpdate=!0,o.generateMipmaps=!1,o.flipY=!1,o}function u(e){S+=e;var t=h.uniforms.mouse3d.value;L.followMouse?t.copy(L.mouse3d):t.set(0,0,-9999),h.uniforms.constraintRatio.value=L.constraintRatio,i(e),r(e),n.positionRenderTarget=v}var l,d,h,p,f,m,v,g,x,y,w,_,L=e(30),E=e(21),b=e(32),S=0,T=n.TEXTURE_SIZE=L.textureSize,P=n.AMOUNT=T*T;n.init=o,n.update=u,n.positionRenderTarget=l},{21:21,30:30,32:32}],23:[function(e,t,n){function o(){u=new s.PlaneGeometry(4e3,4e3,10,10),l=new s.MeshPhongMaterial({color:new s.Color,transparent:!0,shininess:5}),c=n.mesh=new s.Mesh(u,l),c.position.y=-200,c.rotation.x=-1.57,c.castShadow=!1,c.receiveShadow=!0}function i(){c.visible=!a.useReflectedGround,l.color.copy(d).lerp(h,a.whiteRatio)}var r,a=e(30),s=e(21),c=n.mesh=r;n.init=o,n.update=i;var u,l,d=new s.Color(1118481),h=new s.Color(13421772)},{21:21,30:30}],24:[function(e,t,n){function o(){s=n.mesh=new a.Object3D;var e=new a.AmbientLight(10066329);s.add(e),c=n.spot=new a.SpotLight(16777215,1,0,Math.PI/2,1),c.position.x=200,c.position.y=500,c.position.z=200,c.target.position.set(0,0,0),c.castShadow=!0,c.shadowCameraNear=100,c.shadowCameraFar=2500,c.shadowCameraFov=90,c.shadowBias=3e-5,c.shadowDarkness=1,c.shadowMapWidth=1024,c.shadowMapHeight=2048,s.add(c)}function i(e,t){u+=0}var r,a=(e(30),e(21)),s=n.mesh=r,c=n.spot=r;n.init=o,n.update=i;var u=0},{21:21,30:30}],25:[function(e,t,n){function o(){for(var e,t,o,i,r=u.AMOUNT,m=u.TEXTURE_SIZE,v=a.lineAmount,g=new Float32Array(2*v*3),x=new Float32Array(2*v*2),y=0;v>y;++y)e=4*y,t=6*y,o=y%r,g[t+0]=x[e+2]=o%m/m,g[t+1]=x[e+3]=~~(o/m)/m,g[t+2]=-1,i=~~(l.hash(100*y)*r),i===o&&(i=(i+1)%r),g[t+3]=x[e+0]=i%m/m,g[t+4]=x[e+1]=~~(i/m)/m,g[t+5]=1;d=new s.BufferGeometry,d.addAttribute("position",new s.BufferAttribute(g,3)),d.addAttribute("oppositeUv",new s.BufferAttribute(x,2)),h=new s.ShaderMaterial({uniforms:s.UniformsUtils.merge([s.UniformsLib.fog,s.UniformsLib.shadowmap,{texturePosition:{type:"t",value:null},whiteNodesRatio:{type:"f",value:1},whiteRatio:{type:"f",value:1}}]),vertexShader:c("#define GLSLIFY 1\nattribute vec2 oppositeUv;\n\nuniform sampler2D texturePosition;\nuniform float whiteNodesRatio;\n\nvarying float vBrightness;\n\n// chunk(shadowmap_pars_vertex);\n\nvoid main() {\n\n    vec4 positionInfo = texture2D( texturePosition, position.xy );\n    vec4 oppositePositionInfo = texture2D( texturePosition, oppositeUv );\n    vec3 pos = positionInfo.xyz;\n    float brightness = positionInfo.w;\n    vec3 oppositePos = oppositePositionInfo.xyz;\n\n    vec4 worldPosition = modelMatrix * vec4( pos, 1.0 );\n    vec4 mvPosition = viewMatrix * worldPosition;\n    vBrightness = brightness * whiteNodesRatio;\n\n    // chunk(shadowmap_vertex);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n\n}\n"),fragmentShader:c("#define GLSLIFY 1\n// chunk(common);\n// chunk(fog_pars_fragment);\n// chunk(shadowmap_pars_fragment);\n\nvarying float vBrightness;\nvarying float vSide;\nvarying float vAlpha;\n\nuniform float whiteRatio;\n\nvoid main() {\n\n    vec3 outgoingLight = vec3(1.0);\n\n    // chunk(shadowmap_fragment);\n\n    outgoingLight = 0.05 + pow(shadowMask, vec3(1.5 - whiteRatio * 1.0)) * 0.95 + vBrightness * (1.0 - whiteRatio * 0.65);\n\n    // chunk(fog_fragment);\n    // chunk(linear_to_gamma_fragment);\n\n    gl_FragColor = vec4(outgoingLight, 1.0);\n}\n"),linewidth:1,blending:s.NoBlending,fog:!0}),p=new s.ShaderMaterial({uniforms:{texturePosition:{type:"t",value:null}},vertexShader:c("#define GLSLIFY 1\nuniform sampler2D texturePosition;\n\nvarying vec4 vWorldPosition;\n\nvoid main() {\n\n    vec3 pos = texture2D( texturePosition, position.xy ).xyz;\n\n    vec4 worldPosition = modelMatrix * vec4( pos, 1.0 );\n    vec4 mvPosition = viewMatrix * worldPosition;\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    vWorldPosition = worldPosition;\n\n}\n"),fragmentShader:c("#define GLSLIFY 1\n// chunk(common);\n\nvec4 pack_depth( const in float depth ) {\n\nconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\nconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\nvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\nres -= res.xxyz * bit_mask;\nreturn res;\n\n}\n\nvoid main() {\n\n    gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n}\n"),depthTest:!0,depthWrite:!0}),f=n.mesh=new s.LineSegments(d,h),f.castShadow=!0,f.receiveShadow=!0,f.frustumCulled=!1,f.customDepthMaterial=p}function i(e){var t=u.positionRenderTarget;h.uniforms.texturePosition.value=t,p.uniforms.texturePosition.value=t,h.uniforms.whiteNodesRatio.value=a.whiteNodesRatio,h.uniforms.whiteRatio.value=a.whiteRatio}var r,a=e(30),s=e(21),c=e(32),u=e(22),l=e(34);n.init=o,n.update=i;var d,h,p,f=n.mesh=r},{21:21,22:22,30:30,32:32,34:34}],26:[function(e,t,n){function o(){for(var e,t=u.AMOUNT,o=u.TEXTURE_SIZE,i=new Float32Array(3*t),r=0;t>r;++r)e=3*r,i[e+0]=r%o/o,i[e+1]=~~(r/o)/o,i[e+2]=Math.pow(l.hash(20+31.512*r),5);d=new s.BufferGeometry,d.addAttribute("position",new s.BufferAttribute(i,3)),h=new s.ShaderMaterial({uniforms:s.UniformsUtils.merge([s.UniformsLib.fog,s.UniformsLib.shadowmap,{texturePosition:{type:"t",value:null},alpha:{type:"f",value:1}}]),vertexShader:c("#define GLSLIFY 1\nattribute vec2 oppositeUv;\n\nuniform sampler2D texturePosition;\nuniform float alpha;\n\nvarying float vAlpha;\n\n// chunk(shadowmap_pars_vertex);\nhighp float random_1_0(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n\n\nvoid main() {\n\n    vec3 pos = texture2D( texturePosition, position.xy ).xyz;\n\n    vec4 worldPosition = modelMatrix * vec4( pos, 1.0 );\n    vec4 mvPosition = viewMatrix * worldPosition;\n\n    // chunk(shadowmap_vertex);\n\n    float size = 3.0 + position.z * 80.0;\n\n    vAlpha = position.z * smoothstep(190.0, 200.0, length(pos)) * alpha * pow(1.0 - position.z, 3.0) * 0.18;\n\n    gl_PointSize = ( size * 500.0 / length( mvPosition.xyz ) );\n    gl_Position = projectionMatrix * mvPosition;\n\n\n}\n"),fragmentShader:c("#define GLSLIFY 1\n// chunk(common);\n// chunk(fog_pars_fragment);\n\nvarying float vAlpha;\n\nvoid main() {\n\n    vec3 outgoingLight = vec3(1.0);\n\n\n    float d = 1.0 - step(1.0, length(gl_PointCoord.xy - .5) * 2.0);\n    // float d = max(0.0, 1.0 - length(gl_PointCoord.xy - .5) * 2.0);\n    float c = d * vAlpha;\n\n    // chunk(fog_fragment);\n    // chunk(linear_to_gamma_fragment);\n\n    gl_FragColor = vec4(outgoingLight * c, 1.0);\n}\n"),blending:s.AdditiveBlending,transparent:!0,depthWrite:!1,fog:!0}),p=n.mesh=new s.Points(d,h)}function i(e){p.visible=a.useWhiteNodes;var t=u.positionRenderTarget;h.uniforms.texturePosition.value=t,h.uniforms.alpha.value=1-.9*a.whiteRatio}var r,a=e(30),s=e(21),c=e(32),u=e(22),l=e(34);n.init=o,n.update=i;var d,h,p=n.mesh=r},{21:21,22:22,30:30,32:32,34:34}],27:[function(e,t,n){function o(e,t,n){v=e,g=t,S=n,r(),i()}function i(){var e=new d.PlaneGeometry(4e3,4e3);z=n.mesh=new d.Mesh(e,R),z.position.y=-200,z.rotation.x=-1.57,z.receiveShadow=!0}function r(){O=n.reflection=new d.Object3D,O.matrixNeedsUpdate=!0;var e=1024,t=1024;m=0,x=new d.Plane,y=new d.Vector3(0,0,1),w=new d.Vector3,_=new d.Vector3,L=new d.Matrix4,E=new d.Vector3(0,0,-1),b=new d.Vector4,T=new d.Matrix4,P=S.clone(),M=new d.WebGLRenderTarget(e,t),C=d.UniformsUtils.merge([d.UniformsLib.fog,d.UniformsLib.shadowmap]);var o=new d.Texture;o.wrapS=o.wrapT=d.RepeatWrapping;var i=new Image;i.src="images/normal.jpg",i.width?(o.image=i,o.needsUpdate=!0):i.onload=function(){o.image=i,o.needsUpdate=!0},C.normalSampler={type:"t",value:o},C.mirrorSampler={type:"t",value:M},C.alpha={type:"f",value:1},C.time={type:"f",value:0},C.distortionScale={type:"f",value:20},C.textureMatrix={type:"m4",value:T},C.eye={type:"v3",value:new d.Vector3(0,0,0)
},C.groundColor={type:"c",value:new d.Color},C.lightPosition={type:"v3",value:f.spot.position},R=new d.ShaderMaterial({vertexShader:h("#define GLSLIFY 1\nuniform mat4 textureMatrix;\nuniform float time;\n\nvarying vec4 mirrorCoord;\nvarying vec3 worldPosition3;\n\n// chunk(shadowmap_pars_vertex);\n\nvoid main() {\n\n   vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n   worldPosition3 = worldPosition.xyz;\n   mirrorCoord = textureMatrix * worldPosition;\n\n    // chunk(shadowmap_vertex);\n\n   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}\n"),fragmentShader:h("#define GLSLIFY 1\nprecision highp float;\n\nuniform sampler2D mirrorSampler;\nuniform float alpha;\nuniform float time;\nuniform float distortionScale;\nuniform sampler2D normalSampler;\nuniform vec3 eye;\nuniform vec3 groundColor;\nuniform vec3 lightPosition;\n\nvarying vec4 mirrorCoord;\nvarying vec3 worldPosition3;\n\nhighp float random_1_0(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n\n\nvec4 getNoise( vec2 uv )\n{\n    uv *= 22.0;\n    vec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n    vec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n    vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n    vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n    vec4 noise = ( texture2D( normalSampler, uv0 ) ) +\n       ( texture2D( normalSampler, uv1 ) ) +\n       ( texture2D( normalSampler, uv2 ) ) +\n       ( texture2D( normalSampler, uv3 ) );\n   return noise * 0.5 - 1.0;\n}\n\n// chunk(common);\n// chunk(fog_pars_fragment);\n// chunk(shadowmap_pars_fragment);\n\n\nvoid main()\n{\n    vec4 noise = getNoise( worldPosition3.xz );\n    vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 2.0, 1.5 )  + (vec3( random_1_0(worldPosition3.xz), random_1_0(worldPosition3.xz + 20.0), random_1_0(worldPosition3.xz + 40.0) ) - 0.5) * 0.2 ) ;\n\n    vec3 outgoingLight = vec3(1.0);\n\n    vec3 diffuseLight = vec3(0.0);\n    vec3 specularLight = vec3(0.1);\n\n    vec3 worldToEye = eye-worldPosition3;\n    vec3 eyeDirection = normalize( worldToEye );\n\n    float d = length(worldToEye);\n\n    vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / d ) * distortionScale;\n    vec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\n\n    float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n    float rf0 = 0.9;\n    float reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n    outgoingLight = mix( diffuseLight, ( reflectionSample + reflectionSample * specularLight ), reflectance );\n\n    outgoingLight = pow(outgoingLight * 0.5, vec3(1.5));\n\n    // the following is a super nasty way to hyjack the internal shadow\n    // chunk_replace vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n    vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n    shadowCoord.xy += distortion * 3.0;\n    // end_chunk_replace\n\n    // chunk(shadowmap_fragment);\n\n    vec3 lightDirection = lightPosition - worldPosition3;\n    outgoingLight += (1.0 - smoothstep(500.0, 1400.0, length(lightDirection)) * (0.5 + surfaceNormal.z * 0.5)) * 0.1;\n\n    outgoingLight *= 0.5 + shadowMask * 0.2 ;\n    outgoingLight += theta * 0.15;\n\n    outgoingLight += groundColor;\n\n    // chunk(fog_fragment);\n    // chunk(linear_to_gamma_fragment);\n\n    gl_FragColor = vec4( outgoingLight, 1.0 );\n}\n"),uniforms:C,transparent:!0,fog:!0}),d.Math.isPowerOfTwo(e)&&d.Math.isPowerOfTwo(t)||(M.generateMipmaps=!1,M.minFilter=d.LinearFilter)}function a(){z.updateMatrixWorld(),S.updateMatrixWorld(),w.setFromMatrixPosition(z.matrixWorld),_.setFromMatrixPosition(S.matrixWorld),L.extractRotation(z.matrixWorld),y.set(0,0,1),y.applyMatrix4(L);var e=w.clone().sub(_);e.reflect(y).negate(),e.add(w),L.extractRotation(S.matrixWorld),E.set(0,0,-1),E.applyMatrix4(L),E.add(_);var t=w.clone().sub(E);t.reflect(y).negate(),t.add(w),z.up.set(0,-1,0),z.up.applyMatrix4(L),z.up.reflect(y).negate(),P.position.copy(e),P.up=z.up,P.lookAt(t),P.aspect=S.aspect,P.updateProjectionMatrix(),P.updateMatrixWorld(),P.matrixWorldInverse.getInverse(P.matrixWorld),T.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),T.multiply(P.projectionMatrix),T.multiply(P.matrixWorldInverse),x.setFromNormalAndCoplanarPoint(y,w),x.applyMatrix4(P.matrixWorldInverse),b.set(x.normal.x,x.normal.y,x.normal.z,x.constant);var n=new d.Vector4,o=P.projectionMatrix;n.x=(p.sign(b.x)+o.elements[8])/o.elements[0],n.y=(p.sign(b.y)+o.elements[9])/o.elements[5],n.z=-1,n.w=(1+o.elements[10])/o.elements[14];var i=new d.Vector4;i=b.multiplyScalar(2/b.dot(n)),o.elements[2]=i.x,o.elements[6]=i.y,o.elements[10]=i.z+1-m,o.elements[14]=i.w;var r=new d.Vector3;r.setFromMatrixPosition(S.matrixWorld),R.uniforms.eye.value=r}function s(){z.matrixNeedsUpdate&&a(),z.matrixNeedsUpdate=!0;var e=R.visible;R.visible=!1,v.render(g,P,M,!0),R.visible=e}function c(){var e=l.useReflectedGround;z.visible=e,C.groundColor.value.copy(N).lerp(I,l.whiteRatio),e&&s()}var u,l=e(30),d=e(21),h=e(32),p=e(34),f=e(24);n.init=o,n.updateReflectionTextureMatrix=a,n.renderReflection=s,n.update=c;var m,v,g,x,y,w,_,L,E,b,S,T,P,M,R,C,z=n.mesh=u,O=n.reflection=u,N=new d.Color(0),I=new d.Color(11711154)},{21:21,24:24,30:30,32:32,34:34}],28:[function(e,t,n){function o(){var e=new s.PlaneBufferGeometry(2,2),t=new s.ShaderMaterial({uniforms:{uAlpha:n.alphaUniform={type:"f",value:1},uTime:d={type:"f",value:0},uResolution:{type:"v2",value:l=new s.Vector2}},vertexShader:c("#define GLSLIFY 1\nvoid main() {\n    vec2 pos = position.xy;\n    gl_Position = vec4( pos, 0.0, 1.0 );\n}\n"),fragmentShader:c("#define GLSLIFY 1\nvarying vec2 vUv;\nuniform vec2 uResolution;\nuniform float uAlpha;\nuniform float uTime;\n\nconst float sqrt2 = 1.41421356237309;\nfloat rand_1_0(float n){return fract(sin(n) * 43758.5453123);}\n\nfloat noise_1_1(float p){\n    float fl = floor(p);\n  float fc = fract(p);\n    return mix(rand_1_0(fl), rand_1_0(fl + 1.0), fc);\n}\n\n\n\n\n\nvoid main() {\n\n    vec2 toCenter = gl_FragCoord.xy / uResolution - 0.5;\n    float angle = atan(toCenter.y / toCenter.x);\n\n    float a = smoothstep(0.3 + 0.3 * noise_1_1(angle * 32313.12513 + uTime) , sqrt2, max(length(toCenter) * 2.0, 0.0));\n\n    gl_FragColor = vec4(0.0, 0.0, 0.0, a * uAlpha);\n}\n"),blending:s.NormalBlending,transparent:!0,depthWrite:!1,depthTest:!1});u=n.mesh=new s.Mesh(e,t),u.frustumCulled=!1,u.renderOrder=1024}function i(e,t){l.set(e,t)}function r(e){d.value=(d.value+e)%15171}var a,s=(e(30),e(21)),c=e(32),u=n.mesh=a;n.init=o,n.resize=i,n.update=r;var l,d},{21:21,30:30,32:32}],29:[function(e,t,n){THREE.OrbitControls=function(e,t){function n(){return 2*Math.PI/60/60*f.autoRotateSpeed}function o(){return Math.pow(.95,f.zoomSpeed)}function i(e){if(f.enabled!==!1){if(e.preventDefault(),e.button===f.mouseButtons.ORBIT){if(f.noRotate===!0)return;I=N.ROTATE,v.set(e.clientX,e.clientY)}else if(e.button===f.mouseButtons.ZOOM){if(f.noZoom===!0)return;I=N.DOLLY,b.set(e.clientX,e.clientY)}else if(e.button===f.mouseButtons.PAN){if(f.noPan===!0)return;I=N.PAN,y.set(e.clientX,e.clientY)}I!==N.NONE&&(document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",a,!1),f.dispatchEvent(F))}}function r(e){if(f.enabled!==!1){e.preventDefault();var t=f.domElement===document?f.domElement.body:f.domElement;if(I===N.ROTATE){if(f.noRotate===!0)return;g.set(e.clientX,e.clientY),x.subVectors(g,v),f.rotateLeft(2*Math.PI*x.x/t.clientWidth*f.rotateSpeed),f.rotateUp(2*Math.PI*x.y/t.clientHeight*f.rotateSpeed),v.copy(g)}else if(I===N.DOLLY){if(f.noZoom===!0)return;S.set(e.clientX,e.clientY),T.subVectors(S,b),T.y>0?f.dollyIn():T.y<0&&f.dollyOut(),b.copy(S)}else if(I===N.PAN){if(f.noPan===!0)return;w.set(e.clientX,e.clientY),_.subVectors(w,y),f.pan(_.x,_.y),y.copy(w)}I!==N.NONE&&f.update()}}function a(){f.enabled!==!1&&(document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",a,!1),f.dispatchEvent(j),I=N.NONE)}function s(e){if(f.enabled!==!1&&f.noZoom!==!0&&I===N.NONE){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?f.dollyOut():0>t&&f.dollyIn(),f.update(),f.dispatchEvent(F),f.dispatchEvent(j)}}function c(e){if(f.enabled!==!1&&f.noKeys!==!0&&f.noPan!==!0)switch(e.keyCode){case f.keys.UP:f.pan(0,f.keyPanSpeed),f.update();break;case f.keys.BOTTOM:f.pan(0,-f.keyPanSpeed),f.update();break;case f.keys.LEFT:f.pan(f.keyPanSpeed,0),f.update();break;case f.keys.RIGHT:f.pan(-f.keyPanSpeed,0),f.update()}}function u(e){if(f.enabled!==!1){switch(e.touches.length){case 1:if(f.noRotate===!0)return;I=N.TOUCH_ROTATE,v.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(f.noZoom===!0)return;I=N.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);b.set(0,o);break;case 3:if(f.noPan===!0)return;I=N.TOUCH_PAN,y.set(e.touches[0].pageX,e.touches[0].pageY);break;default:I=N.NONE}I!==N.NONE&&f.dispatchEvent(F)}}function l(e){if(f.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=f.domElement===document?f.domElement.body:f.domElement;switch(e.touches.length){case 1:if(f.noRotate===!0)return;if(I!==N.TOUCH_ROTATE)return;g.set(e.touches[0].pageX,e.touches[0].pageY),x.subVectors(g,v),f.rotateLeft(2*Math.PI*x.x/t.clientWidth*f.rotateSpeed),f.rotateUp(2*Math.PI*x.y/t.clientHeight*f.rotateSpeed),v.copy(g),f.update();break;case 2:if(f.noZoom===!0)return;if(I!==N.TOUCH_DOLLY)return;var n=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(n*n+o*o);S.set(0,i),T.subVectors(S,b),T.y>0?f.dollyOut():T.y<0&&f.dollyIn(),b.copy(S),f.update();break;case 3:if(f.noPan===!0)return;if(I!==N.TOUCH_PAN)return;w.set(e.touches[0].pageX,e.touches[0].pageY),_.subVectors(w,y),f.pan(_.x,_.y),y.copy(w),f.update();break;default:I=N.NONE}}}function d(){f.enabled!==!1&&(f.dispatchEvent(j),I=N.NONE)}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};var h,p,f=this,m=1e-6,v=new THREE.Vector2,g=new THREE.Vector2,x=new THREE.Vector2,y=new THREE.Vector2,w=new THREE.Vector2,_=new THREE.Vector2,L=new THREE.Vector3,E=new THREE.Vector3,b=new THREE.Vector2,S=new THREE.Vector2,T=new THREE.Vector2,P=0,M=0,R=1,C=new THREE.Vector3,z=new THREE.Vector3,O=new THREE.Quaternion,N={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},I=N.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var A=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),k=A.clone().inverse(),D={type:"change"},F={type:"start"},j={type:"end"};this.rotateLeft=function(e){void 0===e&&(e=n()),M-=e},this.rotateUp=function(e){void 0===e&&(e=n()),P-=e},this.panLeft=function(e){var t=this.object.matrix.elements;L.set(t[0],t[1],t[2]),L.multiplyScalar(-e),C.add(L)},this.panUp=function(e){var t=this.object.matrix.elements;L.set(t[4],t[5],t[6]),L.multiplyScalar(e),C.add(L)},this.pan=function(e,t){var n=f.domElement===document?f.domElement.body:f.domElement;if(f.object instanceof THREE.PerspectiveCamera){var o=f.object.position,i=o.clone().sub(f.target),r=i.length();r*=Math.tan(f.object.fov/2*Math.PI/180),f.panLeft(2*e*r/n.clientHeight),f.panUp(2*t*r/n.clientHeight)}else f.object instanceof THREE.OrthographicCamera?(f.panLeft(e*(f.object.right-f.object.left)/n.clientWidth),f.panUp(t*(f.object.top-f.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(e){void 0===e&&(e=o()),f.object instanceof THREE.PerspectiveCamera?R/=e:f.object instanceof THREE.OrthographicCamera?(f.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*e)),f.object.updateProjectionMatrix(),f.dispatchEvent(D)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(e){void 0===e&&(e=o()),f.object instanceof THREE.PerspectiveCamera?R*=e:f.object instanceof THREE.OrthographicCamera?(f.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/e)),f.object.updateProjectionMatrix(),f.dispatchEvent(D)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(){var e=this.object.position;E.copy(e).sub(this.target),E.applyQuaternion(A),h=Math.atan2(E.x,E.z),p=Math.atan2(Math.sqrt(E.x*E.x+E.z*E.z),E.y),this.autoRotate&&I===N.NONE&&this.rotateLeft(n()),h+=M,p+=P,h=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,h)),p=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,p)),p=Math.max(m,Math.min(Math.PI-m,p));var t=E.length()*R;t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(C),E.x=t*Math.sin(p)*Math.sin(h),E.y=t*Math.cos(p),E.z=t*Math.sin(p)*Math.cos(h),E.applyQuaternion(k),e.copy(this.target).add(E),this.object.lookAt(this.target),M=0,P=0,R=1,C.set(0,0,0),(z.distanceToSquared(this.object.position)>m||8*(1-O.dot(this.object.quaternion))>m)&&(this.dispatchEvent(D),z.copy(this.object.position),O.copy(this.object.quaternion))},this.reset=function(){I=N.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(D),this.update()},this.getPolarAngle=function(){return p},this.getAzimuthalAngle=function(){return h},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mousewheel",s,!1),this.domElement.addEventListener("DOMMouseScroll",s,!1),this.domElement.addEventListener("touchstart",u,!1),this.domElement.addEventListener("touchend",d,!1),this.domElement.addEventListener("touchmove",l,!1),window.addEventListener("keydown",c,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,t.exports=THREE.OrbitControls},{}],30:[function(e,t,n){n.useStats=!1,n.textureSize=128,n.lineAmount=65536,n.followMouse=!1,n.constraintRatio=.07,n.useWhiteNodes=!0,n.whiteNodesRatio=1,n.useReflectedGround=!0,n.isWhite=!1,n.whiteRatio=0},{}],31:[function(e,t,n){function o(e){a?(s=e,i()):e()}function i(){c=document.querySelector(".mobile"),c.style.display="block",u=document.querySelector(".mobile-bypass"),u.addEventListener("click",r)}function r(){c.parentNode.removeChild(c),s()}var a=/(iPad|iPhone|Android)/i.test(navigator.userAgent);n.pass=o;var s,c,u},{}],32:[function(e,t,n){function o(e){return d={},e.replace(p,s)}function i(e){return e.replace(f,c)}function r(e){return e.replace(m,u)}function a(e){return e.replace(v,u)}function s(e,t,n){return d[t.trim()]=n,""}function c(e,t){var n=h.ShaderChunk[t]+"\n";for(var o in d)n=n.replace(o,d[o]);return n}function u(e,t){return t}function l(e){return e=o(e),e=i(e),e=r(e),a(e)}var d,h=e(21),p=/\/\/\s?chunk_replace\s(.+)([\d\D]+)\/\/\s?end_chunk_replace/gm,f=/\/\/\s?chunk\(\s?(\w+)\s?\);/g,m=/(_\d+_\d+)(_\d+_\d+)+/g,v=/GLOBAL_VAR_(.+)(_\d+_\d+)+/g;t.exports=l},{21:21}],33:[function(e,t,n){function o(){E.useStats&&(h=new Stats,y(h.domElement,{position:"absolute",left:"0px",top:"0px",zIndex:2048}),document.body.appendChild(h.domElement)),E.mouse=new _.Vector2,E.mouse3d=D.origin,v=new _.WebGLRenderer({antialias:!0}),v.shadowMap.type=_.PCFSoftShadowMap,v.shadowMap.enabled=!0,document.body.appendChild(v.domElement),m=new _.Scene,m.fog=new _.FogExp2(2236962,.001),f=new _.PerspectiveCamera(45,1,1,3e3),f.position.set(0,500,1200).normalize().multiplyScalar(1500),p=new L(f,v.domElement),p.minDistance=600,p.maxDistance=1500,p.minPolarAngle=.3,p.maxPolarAngle=Math.PI/2,p.target.y=-30,p.noPan=!0,p.update(),b.init(v),S.init(),m.add(S.mesh),T.init(),m.add(T.mesh),P.init(),m.add(P.mesh),M.init(v),m.add(M.mesh),R.init(v),m.add(R.mesh),C.init(v,m,f),m.add(C.mesh),g=document.querySelector(".logo"),window.addEventListener("resize",u),window.addEventListener("mousedown",a),window.addEventListener("mousemove",s),window.addEventListener("mouseup",c),window.addEventListener("touchstart",r(a)),window.addEventListener("touchmove",r(s)),window.addEventListener("touchend",c),document.addEventListener("keyup",i),k=Date.now(),u(),l()}function i(e){e&&e.preventDefault(),j=!0,E.isWhite=!E.isWhite}function r(e){return function(t){e(t.changedTouches[0])}}function a(e){A=!0,s(e)}function s(e){E.mouse.x=e.pageX/N*2-1,E.mouse.y=2*-(e.pageY/I)+1}function c(){A=!1}function u(){N=window.innerWidth,I=window.innerHeight,R.resize(N,I),f.aspect=N/I,f.updateProjectionMatrix(),v.setSize(N,I)}function l(){var e=Date.now();w(l),E.useStats&&h.begin(),d(e-k),E.useStats&&h.end(),k=e}function d(e){1!==F||j||i(),E.whiteRatio+=.2*((E.isWhite?1:0)-E.whiteRatio),E.whiteNodesRatio+=.1*((E.useWhiteNodes?1:0)-E.whiteNodesRatio),m.fog.color.copy(W).lerp(U,E.whiteRatio),v.setClearColor(m.fog.color.getHex()),R.alphaUniform.value=z.lerp(.5,.2,E.whiteRatio),F=Math.min(F+2e-4*e,1);var t=Math.pow(F,2);p.maxDistance=1===t?1500:z.lerp(1500,900,t),p.update(),f.updateMatrixWorld(),D.origin.setFromMatrixPosition(f.matrixWorld),D.direction.set(E.mouse.x,E.mouse.y,.5).unproject(f).sub(D.origin).normalize();var n=D.origin.length()/Math.cos(Math.PI-D.direction.angleTo(D.origin));D.origin.add(D.direction.multiplyScalar(.9*n)),S.update(e,f),b.update(e),T.update(e),P.update(e),R.update(e),M.update(),C.update(),v.render(m,f),document.documentElement.classList.toggle("is-white",E.isWhite);var o=Math.min(1.2*(1-2*Math.abs(F-.5)),1),r=10*(1-o);g.style.display=o?"block":"none",o&&(g.style.opacity=o,g.style.webkitFilter="blur("+r+"px)",o=.8+.3*Math.pow(F,1.5),580>N&&(o*=.5),g.style.transform="scale3d("+o+","+o+",1)")}var h,p,f,m,v,g,x=e(9),y=e(3),w=e(19),_=e(21),L=e(29),E=e(30),b=e(22),S=e(24),T=e(25),P=e(26),M=e(23),R=e(28),C=e(27),z=e(34),O=e(31),N=0,I=0,A=!1,k=0,D=new _.Ray,F=0,j=!1,W=new _.Color(2236962),U=new _.Color(15658734);O.pass(function(){x.add("images/logo.png"),x.add("images/normal.jpg"),x.start(function(e){1===e&&o()})})},{19:19,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,3:3,30:30,31:31,34:34,9:9}],34:[function(e,t,n){function o(e,t){return e>t?0:1}function i(e,t,n){return n=s(e,t,n),n*n(3-2*n)}function r(e,t,n){return t>e?t:e>n?n:e}function a(e,t,n){return 0>=n?e:n>=1?t:e+(t-e)*n}function s(e,t,n){return e>=n?0:n>=t?1:(n-e)/(t-e)}function c(e){return e-Math.floor(e)}function u(e){return c(43758.5453123*Math.sin(e))}function l(e,t){return c(43758.5453*Math.sin(12.9898*e+4.1414*t))}function d(e){return e?0>e?-1:1:0}for(var h in Math)n[h]=Math[h];n.step=o,n.smoothstep=i,n.clamp=r,n.mix=n.lerp=a,n.unMix=n.unLerp=s,n.fract=c,n.hash=u,n.hash2=l,n.sign=d;var p=Math.PI;n.TAU=2*p},{}]},{},[33]);