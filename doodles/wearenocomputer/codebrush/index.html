<!DOCTYPE html><html><head><meta charset="utf-8" /><title>codebrush — nøcomputer</title><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no" /><style>body,html{background:#123;overflow:hidden;height:100%;padding:0;margin:0}canvas{position:absolute;-webkit-transition:all 300ms ease-in-out;-webkit-transform:translate3d(0,0,0);-webkit-backface-visibility:hidden;-webkit-perspective:1000;transition:all 300ms ease-in-out;transform:translate3d(0,0,0);backface-visibility:hidden;perspective:1000}</style></head><body><canvas /><script>var Vec2=function(t,e){this.x=t>>0||0,this.y=e>>0||0};Vec2.prototype.equals=function(t){this.x=t.x,this.y=t.y},Vec2.prototype.add=function(t){this.x+=t.x,this.y+=t.y},Vec2.prototype.plus=function(t,e){this.x+=Math.cos(t)*e,this.y+=Math.sin(t)*e},Vec2.prototype.interpolate=function(t,e){var o=this.x-t.x,i=this.y-t.y,r=Math.atan2(i,o),a=this.length(t)*e,s=this.x-Math.cos(r)*a,n=this.y-Math.sin(r)*a;return new Vec2(s,n)},Vec2.prototype.length=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},Vec2.prototype.angle=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.atan2(o,e)*Maths.TO_DEGREES},Vec2.prototype.drawCircle=function(t,e,o){var i=3+(e?Math.random()+.5|0:0),r=360/i*Maths.TO_RADIANS,a=0,s=.5*-r,n=t/Math.cos(-s);for(o.moveTo(this.x+t,this.y);i--;){a+=r,s+=r;var h=this.x+Math.cos(a)*t,c=this.y+Math.sin(a)*t,l=this.x+Math.cos(s)*n,p=this.y+Math.sin(s)*n;o.quadraticCurveTo(l,p,h,c)}};var Maths={PI:Math.PI,TWO_PI:2*Math.PI,TO_DEGREES:180/Math.PI,TO_RADIANS:Math.PI/180},Color=function(){this.palettes=[],this.palettes.push([[234,53,86],[97,210,214],[237,229,226],[237,20,111],[237,222,69],[155,240,233]]),this.palettes.push([[255,255,255],[0,110,137],[0,181,232]]),this.palettes.push([[253,207,191],[254,184,159],[226,61,117],[95,13,59],[116,35,101]]),this.palettes.push([[207,240,158],[168,219,168],[121,189,154],[59,134,134],[11,72,107]]),this.palettes.push([[199,226,195],[248,244,199],[227,208,166],[102,76,75],[245,245,96],[46,204,174]])};Color.prototype.getPalette=function(){this.currentPalette=Math.random()*this.palettes.length>>0},Color.prototype.getColor=function(){var t=Math.random()*this.palettes[this.currentPalette].length>>0,e=this.palettes[this.currentPalette][t][0],o=this.palettes[this.currentPalette][t][1],i=this.palettes[this.currentPalette][t][2];return e+", "+o+", "+i},Color.prototype.getLineWidth=function(t){return Math.random()*t*App.getPixelRatio()};var Stroke=function(){this.reset(),0==currentStyle&&(this.minimumPoints=5),1==currentStyle&&(this.minimumPoints=2),2==currentStyle&&(this.minimumPoints=1),3==currentStyle&&(this.minimumPoints=1)};Stroke.prototype.reset=function(){this.points=[],currentStyle=3*Math.random()>>0,color.getPalette()},Stroke.prototype.addPoints=function(t){var e=App.getPixelRatio(),o=App.getActualPosition(),i=t.clientX*e-o.x,r=t.clientY*e-o.y;this.points.push(new Vec2(i,r)),this.points.length>2*this.minimumPoints&&this.draw(this.points.length-1)},Stroke.prototype.draw=function(t){var e=this.points[t-2*this.minimumPoints],o=this.points[t-this.minimumPoints],i=this.points[t],r=e.interpolate(o,.5),a=o.interpolate(i,.5),s=r.length(a);switch(c.lineWidth=.5*App.getPixelRatio(),c.strokeStyle="rgba(255, 255, 255, 1)",c.globalCompositeOperation="normal",currentStyle){case 0:s*=.75,t===2*this.minimumPoints&&(this.p1l=new Vec2,this.p1r=new Vec2,this.p2l=new Vec2,this.p2r=new Vec2,this.p3l=new Vec2,this.p3r=new Vec2,this.m1l=new Vec2,this.m1r=new Vec2,this.m2l=new Vec2,this.m2r=new Vec2,this.d=new Vec2);var n=e.angle(o)+90,h=o.angle(i)+90,l=e.angle(o)-e.angle(i),p=i.angle(o)-i.angle(e),u=e.angle(o)+.5*(180-l-p),d=Math.random()*s*App.getPixelRatio();if(1!=color.currentPalette&&t%12===0&&(d*=5*Math.random()),n*=Maths.TO_RADIANS,u*=Maths.TO_RADIANS,h*=Maths.TO_RADIANS,this.p1l.equals(e),this.p1r.equals(e),this.p2l.equals(o),this.p2r.equals(o),this.p3l.equals(i),this.p3r.equals(i),this.p1l.plus(n,1.2*d),this.p1r.plus(n,1.2*-d),this.p2l.plus(u,1.5*d),this.p2r.plus(u,1.5*-d),this.p3l.plus(h,1.2*d),this.p3r.plus(h,1.2*-d),this.m1l=this.p1l.interpolate(this.p2l,.15),this.m1r=this.p1r.interpolate(this.p2r,.15),this.m2l=this.p2l.interpolate(this.p3l,.15),this.m2r=this.p2r.interpolate(this.p3r,.15),this.d.x=Math.random()*d-.05*d,this.d.y=Math.random()*d-.5*d,t%10===0&&(this.d.x*=.02*d,this.d.y*=.02*d),this.m1l.add(this.d),this.m1r.add(this.d),this.p2l.add(this.d),this.p2r.add(this.d),this.m2l.add(this.d),this.m2r.add(this.d),c.save(),c.lineWidth=color.getLineWidth(5),c.fillStyle="rgba(17, 34, 51, 1)",1!=color.currentPalette){c.strokeStyle="rgba("+color.getColor()+", 1)";var m=c.createLinearGradient(this.m1l.x,this.m1l.y,this.m2r.x,this.m2r.y);m.addColorStop(0,"rgba("+color.getColor()+", "+(.85+.15*Math.random())+" )"),m.addColorStop(1,"rgba("+color.getColor()+", "+(.85+.15*Math.random())+" )"),c.fillStyle=m,t%5===0&&(c.globalCompositeOperation="lighter")}hasTouchSupport||0!==color.currentPalette||(c.shadowColor=t%4===0?"rgba("+color.getColor()+", 0.8)":"none",c.shadowBlur=100),hasTouchSupport||3!==color.currentPalette||(c.shadowColor=t%3===0?"rgba(0, 0, 0, 1)":"none",c.shadowBlur=250),hasTouchSupport||4!==color.currentPalette||(c.shadowColor=t%2===0?"rgba("+color.getColor()+", 0.8)":"none",c.shadowBlur=30),c.beginPath(),c.moveTo(this.m1l.x,this.m1l.y),c.lineTo(this.p2l.x,this.p2l.y),c.lineTo(this.m2l.x,this.m2l.y),c.lineTo(this.m2r.x,this.m2r.y),c.lineTo(this.p2r.x,this.p2r.y),c.lineTo(this.m1r.x,this.m1r.y),c.lineTo(this.m1l.x,this.m1l.y),c.moveTo(this.p2l.x,this.p2l.y),c.lineTo(this.p2r.x,this.p2r.y),c.stroke(),c.fill(),this.d.x*=4,this.d.y*=4,this.d.x=o.x-this.d.x,this.d.y=o.y-this.d.y,c.lineWidth=color.getLineWidth(2),c.strokeStyle="rgba("+color.getColor()+", 1)",t%2===0&&this.d.drawCircle(.25*d,!0,c),this.d.drawCircle(.1*d,!0,c),c.stroke(),c.restore();break;case 1:if(s*=.01,t===2*this.minimumPoints){this.temp=[];for(var g=0;30>g;g++){var y=.3*(15+.7*g)*.065,v=.9*(5+.7*g)*.025,x=new Vec2(e.x,e.y),w=new Vec2;this.temp.push([x,w,y,v])}}var f=t%5===0?.35*Math.random():1,P=t%10===0?35:8;c.save(),c.lineWidth=color.getLineWidth(3),c.strokeStyle="rgba("+color.getColor()+", "+(.3+.7*Math.random())+")",t%6===0&&(c.globalCompositeOperation="lighter"),hasTouchSupport||0!==color.currentPalette&&4!==color.currentPalette||(c.shadowColor=t%2===0?"rgba("+color.getColor()+", 0.4)":"none",c.shadowBlur=50),hasTouchSupport||3!==color.currentPalette||(c.shadowColor=t%3===0?"rgba(0, 0, 0, 1)":"none",c.shadowBlur=200);for(var g=0;30>g;g++){var x=this.temp[g][0],w=this.temp[g][1],y=this.temp[g][2],v=this.temp[g][3],C=v*s*f,S=(w.x+(x.x-e.x)*y)*C,M=(w.y+(x.y-e.y)*y)*C,T=Math.random()*P*s*App.getPixelRatio();w.x=S,w.y=M,x.x-=S,x.y-=M,c.beginPath(),c.moveTo(x.x,x.y),c.lineTo(x.x+S,x.y+M),g>0&&(c.moveTo(x.x,x.y),c.lineTo(this.temp[g-1][0].x,this.temp[g-1][0].y)),c.stroke(),c.save(),c.lineWidth=5+color.getLineWidth(100),c.strokeStyle="rgba("+color.getColor()+", 1)",t%10===0&&(T*=4/App.getPixelRatio());var m=c.createRadialGradient(o.x,o.y,.5*T,o.x,o.y,T);m.addColorStop(0,"rgba("+color.getColor()+", "+(.7+.3*Math.random())+" )"),m.addColorStop(1,"rgba("+color.getColor()+", "+(.7+.3*Math.random())+" )"),c.fillStyle=m,g%10===0&&o.drawCircle(T,!0,c),c.fill(),c.restore(),c.stroke()}c.restore();break;case 2:s*=.1;var T=(t%this.minimumPoints,(t%10===0?16:2)*s*App.getPixelRatio());c.save(),c.lineCap=t%2===0?"round":"square",c.lineWidth=color.getLineWidth(10*s/App.getPixelRatio()),c.strokeStyle="rgba("+color.getColor()+", "+(.7+.3*Math.random())+")",c.globalCompositeOperation="normal",hasTouchSupport||0!==color.currentPalette&&4!==color.currentPalette||(c.shadowColor="rgba("+color.getColor()+", 1)",c.shadowBlur=50),hasTouchSupport||3!==color.currentPalette||(c.shadowColor="rgba(0, 0, 0, 1)",c.shadowBlur=250),c.beginPath(),c.moveTo(e.x,e.y),c.lineTo(o.x,o.y),c.stroke(),c.restore(),c.save(),c.lineWidth=color.getLineWidth(t%10===1?30:1),c.strokeStyle="rgba("+color.getColor()+", "+(.7+.3*Math.random())+")";var m=c.createRadialGradient(r.x,e.y,T,r.x,e.y,2*T);m.addColorStop(0,"rgba("+color.getColor()+", "+(.5+.5*Math.random())+" )"),m.addColorStop(1,"rgba("+color.getColor()+", "+(.5+.5*Math.random())+" )"),c.fillStyle=m,t%20===0&&(c.globalCompositeOperation="lighter"),c.beginPath(),c.arc(a.x,o.y+25*s,Math.random()*T,0,Maths.TWO_PI,!0),c.arc(r.x+25*s,e.y,Math.random()*T*2,0,Maths.TWO_PI,!0),c.stroke(),c.fill(),c.restore()}};var Utils={};Utils.debounce=function(t,e){var o=null;return function(){var i=this,r=arguments,a=function(){t.apply(i,r),o=null};o&&clearTimeout(o),o=setTimeout(a,e)}},Utils.checkCSS3Support=function(t){for(var e=["webkit","Moz","O","ms",""],o=e.length;o--;)if(e[o]+t in document.body.style&&!Utils.isIE9())return e[o]+t;return!1},Utils.isIE9=function(){var t=document.documentMode,e=window.navigator.systemLanguage;return!e||t&&9!==t?!1:!0};var canvas=document.getElementsByTagName("canvas")[0],c=canvas.getContext("2d"),hasTouchSupport="ontouchstart"in document,color=new Color,App=function(){var t,e,o,i=Utils.checkCSS3Support("Transform"),r=function(){t=screen.width<screen.height?screen.height:screen.width,o=window.devicePixelRatio&&2===window.devicePixelRatio?1.99:1,canvas.width=t*o,canvas.height=t*o,canvas.style.width=t+"px",canvas.style.height=t+"px",e=new Vec2,actualPosition=new Vec2,this.resizeCanvas()},a=function(){e.x=.5*(window.innerWidth-t)>>0,e.y=.5*(window.innerHeight-t)>>0,actualPosition.x=e.x*o,actualPosition.y=e.y*o,i?canvas.style[i]="translate3d("+e.x+"px, "+e.y+"px, 0)":(canvas.style.left=e.x+"px",canvas.style.top=e.y+"px")},s=function(){c.clearRect(0,0,canvas.width,canvas.height)};return{getActualPosition:function(){return actualPosition},getPixelRatio:function(){return o},getSize:function(){return t},init:r,resizeCanvas:a,clearCanvas:s}}(),Events=function(){if(hasTouchSupport){var t=[],e=[],o=function(t){this.touchID=t,this.strokeID=e.length,e.push(new Stroke)};canvas.addEventListener("touchstart",function(e){for(var i=e.changedTouches.length;i--;)t.push(new o(e.changedTouches[i].identifier));App.clearCanvas()},!1),canvas.addEventListener("touchmove",function(o){for(var i=o.changedTouches.length;i--;)for(var r=t.length;r--;)o.changedTouches[i].identifier===t[r].touchID&&e[t[r].strokeID].addPoints(o.changedTouches[i]);o.preventDefault()},!1),canvas.addEventListener("touchend",function(e){for(var o=e.changedTouches.length;o--;)for(var i=t.length;i--;)e.changedTouches[o].identifier===t[i].strokeID&&t.splice(i,1)},!1),window.orientation?window.onorientationchange=Utils.debounce(App.resizeCanvas,100):window.onresize=Utils.debounce(App.resizeCanvas,100)}else{var i=new Stroke;canvas.addEventListener("mousemove",function(t){i.addPoints(t)},!1),canvas.addEventListener("click",function(){App.clearCanvas(),i.reset()},!1),window.onresize=Utils.debounce(App.resizeCanvas,100)}}();App.init();</script></body></html>